create table legionario_trabalho (work_extenso_id int4 not null, legios_extenso_id int4 not null, work_id int4 not null, legios_id int4 not null);
create table tb_ata (id int4 generated by default as identity, date timestamp, primary key (id));
create table tb_ata_extenso (id int4 generated by default as identity, allocution_assunto varchar(255), allocution_autor varchar(255), capitulo_espiritual varchar(255), coleta_do_dia varchar(255), data_extenso varchar(255), despesas varchar(255), dia_da_coleta varchar(255), event varchar(255), hora_final varchar(255), legionario varchar(255), minuto_final varchar(255), number varchar(255), numero varchar(255), pagina_espiritual varchar(255), pagina_estudo varchar(255), paragrafo_estudo varchar(255), participation varchar(255), recrutamento varchar(255), saldo_anterior varchar(255), sub_total varchar(255), title_espiritual varchar(255), total_em_caixa varchar(255), work varchar(255), primary key (id));
create table tb_event (id int4 generated by default as identity, ativos int4, auxiliares int4, guests int4, name varchar(255), ata_id int4, primary key (id));
create table tb_event_extenso (id int4 generated by default as identity, ativos int4, auxiliares int4, guests int4, name varchar(255), ata_extenso_id int4, primary key (id));
create table tb_legio_extenso (id int4 generated by default as identity, name varchar(255), ata_extenso_id int4, primary key (id));
create table tb_legionarios (id int4 generated by default as identity, birthday timestamp, name varchar(255), type int4, primary key (id));
create table tb_participation_extenso (id int4 generated by default as identity, name varchar(255), ata_extenso_id int4, primary key (id));
create table tb_presencas (id int4 generated by default as identity, attendance int4, date timestamp, ata_id int4, legio_id int4, primary key (id));
create table tb_recruitment (id int4 generated by default as identity, person int4, quantity int4, ata_id int4, primary key (id));
create table tb_recruitment_extenso (id int4 generated by default as identity, person varchar(255), quantidade varchar(255), ata_extenso_id int4, primary key (id));
create table tb_treasury (ata_id int4 not null, coleta_do_dia float4, despesas float4, dia_da_coleta timestamp, saldo_anterior float4, sub_total float4, total_em_caixa float4, primary key (ata_id));
create table tb_work (id int4 generated by default as identity, adult int4, children int4, elderly int4, hours float4, total int4, work int4, yong int4, ata_id int4, primary key (id));
create table tb_work_extenso (id int4 generated by default as identity, hours varchar(255), person varchar(255), quant_contact varchar(255), work varchar(255), ata_extenso_id int4, primary key (id));
alter table if exists tb_ata add constraint UK_b4u07urs7p7yhd2nrxmn56wwr unique (date);
alter table if exists tb_ata_extenso add constraint UK_jafqy4r46scnqj9uo06up40ea unique (data_extenso);
alter table if exists tb_ata_extenso add constraint UK_qjbnxn9lbe577495bn9ds5e9o unique (number);
alter table if exists tb_ata_extenso add constraint UK_9ka22auvdo9st3gpyf6bfd245 unique (numero);
alter table if exists legionario_trabalho add constraint FKn8l2w8vchtvn5oy51h4io4c78 foreign key (legios_extenso_id) references tb_legio_extenso;
alter table if exists legionario_trabalho add constraint FKknqoplhrkb3omxq6h8hlrvw80 foreign key (work_extenso_id) references tb_work_extenso;
alter table if exists legionario_trabalho add constraint FK4s5ciu9rhh6k2nyf06leg10mh foreign key (legios_id) references tb_legionarios;
alter table if exists legionario_trabalho add constraint FKl81nsotu10d4y9vj7tmghgtjy foreign key (work_id) references tb_work;
alter table if exists tb_event add constraint FK9yw9e57vwybx8f3f3wdeq3ygc foreign key (ata_id) references tb_ata;
alter table if exists tb_event_extenso add constraint FKo9om7xtl8vb0yt5tsw18gtleg foreign key (ata_extenso_id) references tb_ata_extenso;
alter table if exists tb_legio_extenso add constraint FKseei1bn7jxp4b1jr5s6itf9hc foreign key (ata_extenso_id) references tb_ata_extenso;
alter table if exists tb_participation_extenso add constraint FKaidig0h0d3kqmy0brv6ledldc foreign key (ata_extenso_id) references tb_ata_extenso;
alter table if exists tb_presencas add constraint FK81nuha8u7lt5q5xyoks48i6ae foreign key (ata_id) references tb_ata;
alter table if exists tb_presencas add constraint FKf0va7l90imqgsh6nb5i76sa06 foreign key (legio_id) references tb_legionarios;
alter table if exists tb_recruitment add constraint FKk51dk6ps77vk3f5uqap06cmgp foreign key (ata_id) references tb_ata;
alter table if exists tb_recruitment_extenso add constraint FKaxfat03ohmct1r8y5ihywtega foreign key (ata_extenso_id) references tb_ata_extenso;
alter table if exists tb_treasury add constraint FKaso9xs9iod8rumek6slwmhob foreign key (ata_id) references tb_ata;
alter table if exists tb_work add constraint FKckoq5fp2xyma76ltsvcsgiky8 foreign key (ata_id) references tb_ata;
alter table if exists tb_work_extenso add constraint FKagb89iqtr5ot8a3mwc4dbvihn foreign key (ata_extenso_id) references tb_ata_extenso;
